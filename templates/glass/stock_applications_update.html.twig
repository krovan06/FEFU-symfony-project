{% extends 'base.html.twig' %}

{% block title %}Edit Application{% endblock %}

{% block body %}
<div class="form-container">
    <h1>Current Application</h1>
    <div style="display: flex; flex-direction: row; item-align: center;">   
         <h2>Stock: <h2>
        <div style = 'width: 1rem '></div>
        <h2> {{application.stock.security}} </h2>
          <div style = 'width: 2rem '> </div>
        <h2> Quantity: <h2>
        <div style = 'width: 1rem '> </div>
            <h2> {{application.quantity}} </h2>
          <div style = 'width: 2rem '> </div>
            <h2>Price: <h2>
        <div style = 'width: 1rem '></div>
             <h2> {{application.price}} </h2>
                 <div style = 'width: 2rem '> </div>
            <h2>Action: <h2>
        <div style = 'width: 1rem '></div>
             {%if application.action == SELL %}
             <h2> Sell </h2>
                {%else%}
                <h2> Buy </h2>
                {%endif%}
        </div>

        
    <h1>Edit Application</h1>
    
    <form action="{{ path('app_update_application', {'applicationId': application.id}) }}" method="POST">
    
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" min="1" required value="{{ application.quantity }}">

        <label for="price">Price:</label>
        <input type="number" id="price" name="price" min="0" step="0.01" required value="{{ application.price }}">
  
        <label for="action">Action:</label>
        <select id="action" name="action" required>
            <option value="buy" {% if application.action == 'BUY' %}selected{% endif %}>Buy</option>
            <option value="sell" {% if application.action == 'SELL' %}selected{% endif %}>Sell</option>
        </select>

        <button type="submit">Update Application</button>
    </form>
</div>
{% endblock %}